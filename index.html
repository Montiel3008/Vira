<section class="section">
  <div class="container">
    <h2>Nuestros Productos</h2>
    <div class="product-grid">
      <div class="product-card" onclick="openProductDetail('agenda')">
        <img src="agenda1.jpg" alt="Agenda 2026">
        <div class="product-info">
          <h3>Agenda 2026</h3>
          <p>Aca piensas tu la descripcion</p>
          <span class="price">$40.000</span>
        </div>
      </div>

      <div class="product-card" onclick="openProductDetail('stickers')">
        <img src="sticker1.jpg" alt="Stickers">
        <div class="product-info">
          <h3>Planchas de Stickers</h3>
          <p>Descripción de otro producto, enfatizando su calidad.</p>
          <span class="price">$12.000</span>
        </div>
      </div>

      <div class="product-card" onclick="openProductDetail('cuaderno')">
        <img src="cuaderno1.jpg" alt="Cuaderno Inteligente">
        <div class="product-info">
          <h3>Cuaderno Inteligente</h3>
          <p>Descripción de un producto personalizable.</p>
          <span class="price">$20.000</span>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Modal flotante de producto -->
<section id="productDetail" class="product-detail">
  <div class="modal-content">
    <span class="close-modal" onclick="closeProductDetail()">&times;</span>
    <div class="slider-container">
      <div class="slider">
        <img src="" alt="Imagen 1" class="slide active">
        <img src="" alt="Imagen 2" class="slide">
        <img src="" alt="Imagen 3" class="slide">
        <span class="prev" onclick="changeSlide(-1)">&#10094;</span>
        <span class="next" onclick="changeSlide(1)">&#10095;</span>
      </div>
      <div class="product-info-detail">
        <h2 id="productName"></h2>
        <p id="productDesc"></p>
        <span class="price" id="productPrice"></span>
        <form id="shippingForm">
          <input type="text" id="postalCode" placeholder="Código Postal" required>
          <button type="button" onclick="calculateShipping()">Calcular Envío</button>
          <p id="shippingCost"></p>
        </form>
        <a id="buyLink" href="#" target="_blank"><button class="buy-btn">Comprar</button></a>
      </div>
    </div>
  </div>
</section>

<script>
let slideIndex=0;
let slideInterval;
let currentSlides=[];

function openProductDetail(product){
  const modal=document.getElementById('productDetail');
  modal.style.display='block';
  const name=document.getElementById('productName');
  const desc=document.getElementById('productDesc');
  const price=document.getElementById('productPrice');
  const link=document.getElementById('buyLink');
  currentSlides=Array.from(document.querySelectorAll('#productDetail .slide'));

  if(product==='agenda'){
    currentSlides[0].src='agenda1.jpg';
    currentSlides[1].src='agenda2.jpg';
    currentSlides[2].src='agenda3.jpg';
    name.textContent='Agenda 2026';
    desc.textContent='Una agenda elegante con espacio para organizar tu año de manera efectiva y creativa.';
    price.textContent='$40.000';
    link.href='https://mpago.la/2rJB1AJ';
  }
  if(product==='stickers'){
    currentSlides[0].src='sticker1.jpg';
    currentSlides[1].src='sticker2.jpg';
    currentSlides[2].src='sticker3.jpg';
    name.textContent='Planchas de Stickers';
    desc.textContent='Calidad premium en cada sticker, perfectos para personalizar tus cosas.';
    price.textContent='$12.000';
    link.href='https://mpago.la/2rJB1AJ';
  }
  if(product==='cuaderno'){
    currentSlides[0].src='cuaderno1.jpg';
    currentSlides[1].src='cuaderno2.jpg';
    currentSlides[2].src='cuaderno3.jpg';
    name.textContent='Cuaderno Inteligente';
    desc.textContent='Cuaderno personalizable, ideal para organizar tus ideas y notas.';
    price.textContent='$20.000';
    link.href='https://mpago.la/2rJB1AJ';
  }

  slideIndex=0;
  showSlide(slideIndex);
  startAutoSlide();
}

function closeProductDetail(){
  document.getElementById('productDetail').style.display='none';
  clearInterval(slideInterval);
}

function showSlide(index){
  currentSlides.forEach(s=>s.classList.remove('active'));
  slideIndex=(index+currentSlides.length)%currentSlides.length;
  currentSlides[slideIndex].classList.add('active');
}

function changeSlide(n){ showSlide(slideIndex+n); }

function startAutoSlide(){
  clearInterval(slideInterval);
  slideInterval=setInterval(()=>{ changeSlide(1); },4000);
}

function calculateShipping(){
  const postal=document.getElementById('postalCode').value;
  const shippingText=document.getElementById('shippingCost');
  if(postal.length===0){
    shippingText.textContent="Ingresá tu código postal.";
    return;
  }
  const cost=500+parseInt(postal.slice(-2))*10;
  shippingText.textContent=`Costo de envío estimado: $${cost}`;
}
</script>
</body>
</html>
